
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>ska_matplotlib &#8212; ska_matplotlib 4.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-astropy.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="#"><span id="logotext1">Ska! </span><span id="logotext2">ska_matplotlib</span><span id="logotext3"></span></a>
  <ul>
    
    <li><a class="home" title="Homepage" href="https://cxc.cfa.harvard.edu/mta/ASPECT/tool_doc">
        <span id="logotext1">ska</span><span id="logotext2">tools</span>
    </a></li>
    <li><a title="General Index" href="genindex.html">Index</a></li>
    <li><a title="Module Index" href="py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li>
	<a href="#">ska_matplotlib 4.0.0 documentation</a>
	 &#187;
      </li>
      
       
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-ska_matplotlib">
<span id="ska-matplotlib"></span><h1><a class="reference internal" href="#module-ska_matplotlib" title="ska_matplotlib"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ska_matplotlib</span></code></a><a class="headerlink" href="#module-ska_matplotlib" title="Permalink to this headline">¶</a></h1>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="ska_matplotlib.cxctime2plotdate">
<span class="sig-prename descclassname"><span class="pre">ska_matplotlib.</span></span><span class="sig-name descname"><span class="pre">cxctime2plotdate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ska_matplotlib/core.html#cxctime2plotdate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ska_matplotlib.cxctime2plotdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert input CXC time (sec) to the time base required for the matplotlib
plot_date function (days since start of year 1).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> – times (any DateTime compatible format or object)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>plot_date times</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ska_matplotlib.plot_cxctime">
<span class="sig-prename descclassname"><span class="pre">ska_matplotlib.</span></span><span class="sig-name descname"><span class="pre">plot_cxctime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yerr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xerr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_codes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interactive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ska_matplotlib/core.html#plot_cxctime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ska_matplotlib.plot_cxctime" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a date plot where the X-axis values are in a CXC time compatible format.  If no <code class="docutils literal notranslate"><span class="pre">fig</span></code>
value is supplied then the current figure will be used (and created
automatically if needed).  If yerr or xerr is supplied, <code class="docutils literal notranslate"><span class="pre">errorbar()</span></code> will
be called and any additional keyword arguments will be passed to it.
Otherwise any additional keyword arguments (e.g. <code class="docutils literal notranslate"><span class="pre">fmt='b-'</span></code>) are passed
through to the <code class="docutils literal notranslate"><span class="pre">plot()</span></code> function.  Also see <code class="docutils literal notranslate"><span class="pre">errorbar()</span></code> for an
explanation of the possible forms of <em>yerr</em>/<em>xerr</em>.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">state_codes</span></code> keyword argument is provided then the y-axis ticks and
tick labels will be set accordingly.  The <code class="docutils literal notranslate"><span class="pre">state_codes</span></code> value must be a list
of (raw_count, state_code) tuples, and is normally set to <code class="docutils literal notranslate"><span class="pre">msid.state_codes</span></code>
for an MSID object from fetch().</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">interactive</span></code> keyword is True (default) then the plot will be redrawn
at the end and a GUI callback will be created which allows for on-the-fly
update of the date tick labels when panning and zooming interactively.  Set
this to False to improve the speed when making several plots.  This will likely
require issuing a plt.draw() or fig.canvas.draw() command at the end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>times</strong> – CXC time values for x-axis (DateTime compatible format, CxoTime)</p></li>
<li><p><strong>y</strong> – y values</p></li>
<li><p><strong>fmt</strong> – plot format (default None)</p></li>
<li><p><strong>fig</strong> – pyplot figure object (optional)</p></li>
<li><p><strong>yerr</strong> – error on y values, may be [ scalar | N, Nx1, or 2xN array-like ]</p></li>
<li><p><strong>xerr</strong> – error on x values in units of DAYS (may be [ scalar | N, Nx1, or 2xN array-like ] )</p></li>
<li><p><strong>tz</strong> – timezone string</p></li>
<li><p><strong>state_codes</strong> – list of (raw_count, state_code) tuples</p></li>
<li><p><strong>interactive</strong> – use plot interactively (default=True, faster if False)</p></li>
<li><p><strong>**kwargs</strong> – keyword args passed through to <code class="docutils literal notranslate"><span class="pre">plot()</span></code> or <code class="docutils literal notranslate"><span class="pre">errorbar()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ticklocs, fig, ax = tick locations, figure, and axes object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ska_matplotlib.pointpair">
<span class="sig-prename descclassname"><span class="pre">ska_matplotlib.</span></span><span class="sig-name descname"><span class="pre">pointpair</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ska_matplotlib/core.html#pointpair"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ska_matplotlib.pointpair" title="Permalink to this definition">¶</a></dt>
<dd><p>Interleave and then flatten two arrays <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.  This is
typically useful for making a histogram style plot where <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>
are the bin start and stop respectively.  If no value for <code class="docutils literal notranslate"><span class="pre">y</span></code> is provided then
<code class="docutils literal notranslate"><span class="pre">x</span></code> is used.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ska_matplotlib</span> <span class="kn">import</span> <span class="n">pointpair</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">x0</span> <span class="o">=</span> <span class="n">x</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">x1</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x0</span><span class="p">))</span>
<span class="n">xpp</span> <span class="o">=</span> <span class="n">pointpair</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">)</span>
<span class="n">ypp</span> <span class="o">=</span> <span class="n">pointpair</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">xpp</span><span class="p">,</span> <span class="n">ypp</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">X</dt>
<dd class="field-odd"><p>left edge value of point pairs</p>
</dd>
<dt class="field-even">Y</dt>
<dd class="field-even"><p>right edge value of point pairs (optional)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array of length 2*len(x) == 2*len(y)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ska_matplotlib.set_time_ticks">
<span class="sig-prename descclassname"><span class="pre">ska_matplotlib.</span></span><span class="sig-name descname"><span class="pre">set_time_ticks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ticklocs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ska_matplotlib/core.html#set_time_ticks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ska_matplotlib.set_time_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>Pick nice values to show time ticks in a date plot.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">cxctime2plotdate</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">3e7</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">pylab</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;b-&#39;</span><span class="p">)</span>
<span class="n">ticklocs</span> <span class="o">=</span> <span class="n">set_time_ticks</span><span class="p">(</span><span class="n">plt</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">autofmt_xdate</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>The returned value of <code class="docutils literal notranslate"><span class="pre">ticklocs</span></code> can be used in subsequent date plots to
force the same major and minor tick locations and formatting.  Note also
the use of the high-level fig.autofmt_xdate() convenience method to configure
vertically stacked date plot(s) to be well-formatted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plt</strong> – <code class="docutils literal notranslate"><span class="pre">matplotlib.axes.AxesSubplot</span></code> object (from <code class="docutils literal notranslate"><span class="pre">pylab.figure.add_subplot</span></code>)</p></li>
<li><p><strong>ticklocs</strong> – list of major/minor tick locators ala the default <code class="docutils literal notranslate"><span class="pre">TICKLOCS</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple with selected ticklocs as first element</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ska_matplotlib</span></code></a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>


  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<form action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="_sources/index.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2020, Tom Aldcroft.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 4.2.0. &nbsp;
  </p>
</footer>
  </body>
</html>